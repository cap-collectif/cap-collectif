swarrot:
    provider: pecl
    default_connection: rabbitmq
    connections:
        rabbitmq:
            host: '%rabbitmq_host%'
            # Please fix this to use '%rabbitmq_port%'
            port: 5672
            login: '%rabbitmq_login%'
            password: '%rabbitmq_password%'
            vhost: '%rabbitmq_vhost%'
    messages_types:
        elasticsearch.indexation:
            exchange: capco_direct_exchange
            routing_key: elasticsearch_indexation
        opinion.create:
            exchange: capco_direct_exchange
            routing_key: opinion_create
        opinion.update:
            exchange: capco_direct_exchange
            routing_key: opinion_update
        opinion.delete:
            exchange: capco_direct_exchange
            routing_key: opinion_delete
        opinion.trash:
            exchange: capco_direct_exchange
            routing_key: opinion_trash
        argument.create:
            exchange: capco_direct_exchange
            routing_key: argument_create
        argument.update:
            exchange: capco_direct_exchange
            routing_key: argument_update
        argument.delete:
            exchange: capco_direct_exchange
            routing_key: argument_delete
        argument.trash:
            exchange: capco_direct_exchange
            routing_key: argument_trash
        proposal.create:
            exchange: capco_direct_exchange
            routing_key: proposal_create
        proposal.update:
            exchange: capco_direct_exchange
            routing_key: proposal_update
        proposal.update.status:
            exchange: capco_direct_exchange
            routing_key: proposal_update_status
        proposal.delete:
            exchange: capco_direct_exchange
            routing_key: proposal_delete
        proposal.assignation:
            exchange: capco_direct_exchange
            routing_key: proposal_assignation
        proposal.revoke:
            exchange: capco_direct_exchange
            routing_key: proposal_revoke
        proposal.analyse:
            exchange: capco_direct_exchange
            routing_key: proposal_analyse
        proposal.revision:
            exchange: capco_direct_exchange
            routing_key: proposal_revision
        proposal.revision.revise:
            exchange: capco_direct_exchange
            routing_key: proposal_revision_revise
        comment.create:
            exchange: capco_direct_exchange
            routing_key: comment_create
        comment.update:
            exchange: capco_direct_exchange
            routing_key: comment_update
        comment.delete:
            exchange: capco_direct_exchange
            routing_key: comment_delete
        comment.confirm_anonymous_email:
            exchange: capco_direct_exchange
            routing_key: comment_confirm_anonymous_email
        comment.proposal_analysis_create:
            exchange: capco_direct_exchange
            routing_key: proposal_analysis_comment_create
        comment.moderation_approved:
            exchange: capco_direct_exchange
            routing_key: comment_moderation_approved
        comment.moderation_rejected:
            exchange: capco_direct_exchange
            routing_key: comment_moderation_rejected
        comment.moderation_notif_admin:
            exchange: capco_direct_exchange
            routing_key: comment_moderation_notif_admin
        user.confirmation_email_participation:
            exchange: capco_direct_exchange
            routing_key: user_confirmation_email_participation
        user_archive.request:
            exchange: capco_direct_exchange
            routing_key: user_archive_request
        questionnaire.reply:
            exchange: capco_direct_exchange
            routing_key: questionnaire_reply
        user.password:
            exchange: capco_direct_exchange
            routing_key: user_password
        user.email:
            exchange: capco_direct_exchange
            routing_key: user_email
        user.email.reminder:
            exchange: capco_direct_exchange
            routing_key: user_email_reminder
        user.step.reminder:
            exchange: capco_direct_exchange
            routing_key: user_step_reminder
        event.create:
            exchange: capco_direct_exchange
            routing_key: event_create
        event.update:
            exchange: capco_direct_exchange
            routing_key: event_update
        event.delete:
            exchange: capco_direct_exchange
            routing_key: event_delete
        event.review:
            exchange: capco_direct_exchange
            routing_key: event_review
        user_invite.invitation:
            exchange: capco_direct_exchange
            routing_key: user_invite_invitation
        user_invite.invitation_by_organization:
            exchange: capco_direct_exchange
            routing_key: user_invite_invitation_by_organization
        user_invite.check:
            exchange: capco_direct_exchange
            routing_key: user_invite_check
        debate_article.crawler:
            exchange: capco_direct_exchange
            routing_key: debate_article_crawler
        report:
            exchange: capco_direct_exchange
            routing_key: report
        proposal_news.create:
            exchange: capco_direct_exchange
            routing_key: proposal_news_create
        proposal_news.update:
            exchange: capco_direct_exchange
            routing_key: proposal_news_update
        proposal_news.delete:
            exchange: capco_direct_exchange
            routing_key: proposal_news_delete
        emailing.campaign:
            exchange: capco_direct_exchange
            routing_key: emailing_campaign
        sendinblue:
            exchange: capco_direct_exchange
            routing_key: sendinblue
        project_district.notification:
            exchange: capco_direct_exchange
            routing_key: project_district_notification
        sms_credit.initial_credit:
            exchange: capco_direct_exchange
            routing_key: sms_credit_initial_credit
        sms_credit.refill_credit:
            exchange: capco_direct_exchange
            routing_key: sms_credit_refill_credit
        sms_credit.initial_order:
            exchange: capco_direct_exchange
            routing_key: sms_credit_initial_order
        sms_credit.refill_order:
            exchange: capco_direct_exchange
            routing_key: sms_credit_refill_order
        sms_credit.alert_consumed_credit:
            exchange: capco_direct_exchange
            routing_key: sms_credit_alert_consumed_credit
        organization_member.invitation:
            exchange: capco_direct_exchange
            routing_key: organization_member_invitation
        mediator_participate_email:
            exchange: capco_direct_exchange
            routing_key: mediator_participate_email_delayed
        proposal_collect_email_published:
            exchange: capco_direct_exchange
            routing_key: proposal_collect_email_published
    consumers:
        elasticsearch_indexation:
            processor: Capco\AppBundle\Elasticsearch\IndexationProcessor
            middleware_stack:
                - configurator: swarrot.processor.signal_handler
                - configurator: swarrot.processor.max_execution_time
                  extras:
                      max_execution_time: 100
                - configurator: swarrot.processor.max_messages
                - configurator: swarrot.processor.doctrine_connection
                - configurator: swarrot.processor.doctrine_object_manager
                - configurator: swarrot.processor.ack
                - configurator: swarrot.processor.retry
                  extras:
                      retry_attempts: 3
                      retry_exchange: 'retry'
                      retry_routing_key_pattern: 'elasticsearch_indexation_retry_%%attempt%%'
        opinion_create:
            processor: Capco\AppBundle\Processor\Opinion\OpinionCreateProcessor
            middleware_stack:
                - configurator: swarrot.processor.signal_handler
                - configurator: swarrot.processor.max_execution_time
                  extras:
                      max_execution_time: 100
                - configurator: swarrot.processor.max_messages
                - configurator: swarrot.processor.doctrine_connection
                - configurator: swarrot.processor.doctrine_object_manager
                - configurator: swarrot.processor.exception_catcher
                - configurator: swarrot.processor.ack
                - configurator: swarrot.processor.retry
                  extras:
                      retry_attempts: 3
                      retry_exchange: 'retry'
                      retry_routing_key_pattern: 'opinion_create_retry_%%attempt%%'
        opinion_update:
            processor: Capco\AppBundle\Processor\Opinion\OpinionUpdateProcessor
            middleware_stack:
                - configurator: swarrot.processor.signal_handler
                - configurator: swarrot.processor.max_execution_time
                  extras:
                      max_execution_time: 100
                - configurator: swarrot.processor.max_messages
                - configurator: swarrot.processor.doctrine_connection
                - configurator: swarrot.processor.doctrine_object_manager
                - configurator: swarrot.processor.exception_catcher
                - configurator: swarrot.processor.ack
                - configurator: swarrot.processor.retry
                  extras:
                      retry_attempts: 3
                      retry_exchange: 'retry'
                      retry_routing_key_pattern: 'opinion_update_retry_%%attempt%%'
        opinion_delete:
            processor: Capco\AppBundle\Processor\Opinion\OpinionDeleteProcessor
            middleware_stack:
                - configurator: swarrot.processor.signal_handler
                - configurator: swarrot.processor.max_execution_time
                  extras:
                      max_execution_time: 100
                - configurator: swarrot.processor.max_messages
                - configurator: swarrot.processor.doctrine_connection
                - configurator: swarrot.processor.doctrine_object_manager
                - configurator: swarrot.processor.exception_catcher
                - configurator: swarrot.processor.ack
                - configurator: swarrot.processor.retry
                  extras:
                      retry_attempts: 3
                      retry_exchange: 'retry'
                      retry_routing_key_pattern: 'opinion_delete_retry_%%attempt%%'
        opinion_trash:
            processor: Capco\AppBundle\Processor\Opinion\OpinionTrashProcessor
            middleware_stack:
                - configurator: swarrot.processor.signal_handler
                - configurator: swarrot.processor.max_execution_time
                  extras:
                      max_execution_time: 100
                - configurator: swarrot.processor.max_messages
                - configurator: swarrot.processor.doctrine_connection
                - configurator: swarrot.processor.doctrine_object_manager
                - configurator: swarrot.processor.exception_catcher
                - configurator: swarrot.processor.ack
                - configurator: swarrot.processor.retry
                  extras:
                      retry_attempts: 3
                      retry_exchange: 'retry'
                      retry_routing_key_pattern: 'opinion_trash_retry_%%attempt%%'
        argument_create:
            processor: Capco\AppBundle\Processor\Argument\ArgumentCreateProcessor
            middleware_stack:
                - configurator: swarrot.processor.signal_handler
                - configurator: swarrot.processor.max_execution_time
                  extras:
                      max_execution_time: 100
                - configurator: swarrot.processor.max_messages
                - configurator: swarrot.processor.doctrine_connection
                - configurator: swarrot.processor.doctrine_object_manager
                - configurator: swarrot.processor.exception_catcher
                - configurator: swarrot.processor.ack
                - configurator: swarrot.processor.retry
                  extras:
                      retry_attempts: 3
                      retry_exchange: 'retry'
                      retry_routing_key_pattern: 'argument_create_retry_%%attempt%%'
        argument_update:
            processor: Capco\AppBundle\Processor\Argument\ArgumentUpdateProcessor
            middleware_stack:
                - configurator: swarrot.processor.signal_handler
                - configurator: swarrot.processor.max_execution_time
                  extras:
                      max_execution_time: 100
                - configurator: swarrot.processor.max_messages
                - configurator: swarrot.processor.doctrine_connection
                - configurator: swarrot.processor.doctrine_object_manager
                - configurator: swarrot.processor.exception_catcher
                - configurator: swarrot.processor.ack
                - configurator: swarrot.processor.retry
                  extras:
                      retry_attempts: 3
                      retry_exchange: 'retry'
                      retry_routing_key_pattern: 'argument_update_retry_%%attempt%%'
        argument_delete:
            processor: Capco\AppBundle\Processor\Argument\ArgumentDeleteProcessor
            middleware_stack:
                - configurator: swarrot.processor.signal_handler
                - configurator: swarrot.processor.max_execution_time
                  extras:
                      max_execution_time: 100
                - configurator: swarrot.processor.max_messages
                - configurator: swarrot.processor.doctrine_connection
                - configurator: swarrot.processor.doctrine_object_manager
                - configurator: swarrot.processor.exception_catcher
                - configurator: swarrot.processor.ack
                - configurator: swarrot.processor.retry
                  extras:
                      retry_attempts: 3
                      retry_exchange: 'retry'
                      retry_routing_key_pattern: 'argument_delete_retry_%%attempt%%'
        argument_trash:
            processor: Capco\AppBundle\Processor\Argument\ArgumentTrashProcessor
            middleware_stack:
                - configurator: swarrot.processor.signal_handler
                - configurator: swarrot.processor.max_execution_time
                  extras:
                      max_execution_time: 100
                - configurator: swarrot.processor.max_messages
                - configurator: swarrot.processor.doctrine_connection
                - configurator: swarrot.processor.doctrine_object_manager
                - configurator: swarrot.processor.exception_catcher
                - configurator: swarrot.processor.ack
                - configurator: swarrot.processor.retry
                  extras:
                      retry_attempts: 3
                      retry_exchange: 'retry'
                      retry_routing_key_pattern: 'argument_trash_retry_%%attempt%%'
        proposal_create:
            processor: Capco\AppBundle\Processor\Proposal\ProposalCreateProcessor
            middleware_stack:
                - configurator: swarrot.processor.signal_handler
                - configurator: swarrot.processor.max_execution_time
                  extras:
                      max_execution_time: 100
                - configurator: swarrot.processor.max_messages
                - configurator: swarrot.processor.doctrine_connection
                - configurator: swarrot.processor.doctrine_object_manager
                - configurator: swarrot.processor.exception_catcher
                - configurator: swarrot.processor.ack
                - configurator: swarrot.processor.retry
                  extras:
                      retry_attempts: 3
                      retry_exchange: 'retry'
                      retry_routing_key_pattern: 'proposal_create_retry_%%attempt%%'
        proposal_update:
            processor: Capco\AppBundle\Processor\Proposal\ProposalUpdateProcessor
            middleware_stack:
                - configurator: swarrot.processor.signal_handler
                - configurator: swarrot.processor.max_execution_time
                  extras:
                      max_execution_time: 100
                - configurator: swarrot.processor.max_messages
                - configurator: swarrot.processor.doctrine_connection
                - configurator: swarrot.processor.doctrine_object_manager
                - configurator: swarrot.processor.exception_catcher
                - configurator: swarrot.processor.ack
                - configurator: swarrot.processor.retry
                  extras:
                      retry_attempts: 3
                      retry_exchange: 'retry'
                      retry_routing_key_pattern: 'proposal_update_retry_%%attempt%%'
        proposal_update_status:
            processor: Capco\AppBundle\Processor\Proposal\ProposalUpdateStatusProcessor
            middleware_stack:
                - configurator: swarrot.processor.signal_handler
                - configurator: swarrot.processor.max_execution_time
                  extras:
                      max_execution_time: 100
                - configurator: swarrot.processor.max_messages
                - configurator: swarrot.processor.doctrine_connection
                - configurator: swarrot.processor.doctrine_object_manager
                - configurator: swarrot.processor.exception_catcher
                - configurator: swarrot.processor.ack
                - configurator: swarrot.processor.retry
                  extras:
                      retry_attempts: 3
                      retry_exchange: 'retry'
                      retry_routing_key_pattern: 'proposal_update_status_retry_%%attempt%%'
        proposal_delete:
            processor: Capco\AppBundle\Processor\Proposal\ProposalDeleteProcessor
            middleware_stack:
                - configurator: swarrot.processor.signal_handler
                - configurator: swarrot.processor.max_execution_time
                  extras:
                      max_execution_time: 100
                - configurator: swarrot.processor.max_messages
                - configurator: swarrot.processor.doctrine_connection
                - configurator: swarrot.processor.doctrine_object_manager
                - configurator: swarrot.processor.exception_catcher
                - configurator: swarrot.processor.ack
                - configurator: swarrot.processor.retry
                  extras:
                      retry_attempts: 3
                      retry_exchange: 'retry'
                      retry_routing_key_pattern: 'proposal_delete_retry_%%attempt%%'
        proposal_assignation:
            processor: Capco\AppBundle\Processor\Proposal\ProposalAssignationProcessor
            middleware_stack:
                - configurator: swarrot.processor.signal_handler
                - configurator: swarrot.processor.max_execution_time
                  extras:
                      max_execution_time: 100
                - configurator: swarrot.processor.max_messages
                - configurator: swarrot.processor.doctrine_connection
                - configurator: swarrot.processor.doctrine_object_manager
                - configurator: swarrot.processor.exception_catcher
                - configurator: swarrot.processor.ack
                - configurator: swarrot.processor.retry
                  extras:
                      retry_attempts: 3
                      retry_exchange: 'retry'
                      retry_routing_key_pattern: 'proposal_assignation_retry_%%attempt%%'
        proposal_revoke:
            processor: Capco\AppBundle\Processor\Proposal\ProposalRevokeProcessor
            middleware_stack:
                - configurator: swarrot.processor.signal_handler
                - configurator: swarrot.processor.max_execution_time
                  extras:
                      max_execution_time: 100
                - configurator: swarrot.processor.max_messages
                - configurator: swarrot.processor.doctrine_connection
                - configurator: swarrot.processor.doctrine_object_manager
                - configurator: swarrot.processor.exception_catcher
                - configurator: swarrot.processor.ack
                - configurator: swarrot.processor.retry
                  extras:
                      retry_attempts: 3
                      retry_exchange: 'retry'
                      retry_routing_key_pattern: 'proposal_revoke_retry_%%attempt%%'
        proposal_analyse:
            processor: Capco\AppBundle\Processor\Proposal\ProposalAnalyseProcessor
            middleware_stack:
                - configurator: swarrot.processor.signal_handler
                - configurator: swarrot.processor.max_execution_time
                  extras:
                      max_execution_time: 100
                - configurator: swarrot.processor.max_messages
                - configurator: swarrot.processor.doctrine_connection
                - configurator: swarrot.processor.doctrine_object_manager
                - configurator: swarrot.processor.exception_catcher
                - configurator: swarrot.processor.ack
                - configurator: swarrot.processor.retry
                  extras:
                      retry_attempts: 3
                      retry_exchange: 'retry'
                      retry_routing_key_pattern: 'proposal_analyse_retry_%%attempt%%'
        proposal_revision:
            processor: Capco\AppBundle\Processor\Proposal\ProposalRevisionProcessor
            middleware_stack:
                - configurator: swarrot.processor.signal_handler
                - configurator: swarrot.processor.max_execution_time
                  extras:
                      max_execution_time: 100
                - configurator: swarrot.processor.max_messages
                - configurator: swarrot.processor.doctrine_connection
                - configurator: swarrot.processor.doctrine_object_manager
                - configurator: swarrot.processor.exception_catcher
                - configurator: swarrot.processor.ack
                - configurator: swarrot.processor.retry
                  extras:
                      retry_attempts: 3
                      retry_exchange: 'retry'
                      retry_routing_key_pattern: 'proposal_revision_retry_%%attempt%%'
        proposal_revision_revise:
            processor: Capco\AppBundle\Processor\Proposal\ProposalRevisionReviseProcessor
            middleware_stack:
                - configurator: swarrot.processor.signal_handler
                - configurator: swarrot.processor.max_execution_time
                  extras:
                      max_execution_time: 100
                - configurator: swarrot.processor.max_messages
                - configurator: swarrot.processor.doctrine_connection
                - configurator: swarrot.processor.doctrine_object_manager
                - configurator: swarrot.processor.exception_catcher
                - configurator: swarrot.processor.ack
                - configurator: swarrot.processor.retry
                  extras:
                      retry_attempts: 3
                      retry_exchange: 'retry'
                      retry_routing_key_pattern: 'proposal_revision_revise_retry_%%attempt%%'
        comment_create:
            processor: Capco\AppBundle\Processor\Comment\CommentCreateProcessor
            middleware_stack:
                - configurator: swarrot.processor.signal_handler
                - configurator: swarrot.processor.max_execution_time
                  extras:
                      max_execution_time: 100
                - configurator: swarrot.processor.max_messages
                - configurator: swarrot.processor.doctrine_connection
                - configurator: swarrot.processor.doctrine_object_manager
                - configurator: swarrot.processor.exception_catcher
                - configurator: swarrot.processor.ack
                - configurator: swarrot.processor.retry
                  extras:
                      retry_attempts: 3
                      retry_exchange: 'retry'
                      retry_routing_key_pattern: 'comment_create_retry_%%attempt%%'
        comment_update:
            processor: Capco\AppBundle\Processor\Comment\CommentUpdateProcessor
            middleware_stack:
                - configurator: swarrot.processor.signal_handler
                - configurator: swarrot.processor.max_execution_time
                  extras:
                      max_execution_time: 100
                - configurator: swarrot.processor.max_messages
                - configurator: swarrot.processor.doctrine_connection
                - configurator: swarrot.processor.doctrine_object_manager
                - configurator: swarrot.processor.exception_catcher
                - configurator: swarrot.processor.ack
                - configurator: swarrot.processor.retry
                  extras:
                      retry_attempts: 3
                      retry_exchange: 'retry'
                      retry_routing_key_pattern: 'comment_update_retry_%%attempt%%'
        comment_delete:
            processor: Capco\AppBundle\Processor\Comment\CommentDeleteProcessor
            middleware_stack:
                - configurator: swarrot.processor.signal_handler
                - configurator: swarrot.processor.max_execution_time
                  extras:
                      max_execution_time: 100
                - configurator: swarrot.processor.max_messages
                - configurator: swarrot.processor.doctrine_connection
                - configurator: swarrot.processor.doctrine_object_manager
                - configurator: swarrot.processor.exception_catcher
                - configurator: swarrot.processor.ack
                - configurator: swarrot.processor.retry
                  extras:
                      retry_attempts: 3
                      retry_exchange: 'retry'
                      retry_routing_key_pattern: 'comment_delete_retry_%%attempt%%'
        comment_confirm_anonymous_email:
            processor: Capco\AppBundle\Processor\Comment\CommentConfirmAnonymousEmailProcessor
            middleware_stack:
                - configurator: swarrot.processor.signal_handler
                - configurator: swarrot.processor.max_execution_time
                  extras:
                      max_execution_time: 100
                - configurator: swarrot.processor.max_messages
                - configurator: swarrot.processor.doctrine_connection
                - configurator: swarrot.processor.doctrine_object_manager
                - configurator: swarrot.processor.exception_catcher
                - configurator: swarrot.processor.ack
                - configurator: swarrot.processor.retry
                  extras:
                      retry_attempts: 3
                      retry_exchange: 'retry'
                      retry_routing_key_pattern: 'comment_delete_retry_%%attempt%%'
        proposal_analysis_comment_create:
            processor: Capco\AppBundle\Processor\Comment\ProposalAnalysisCommentCreateProcessor
            middleware_stack:
                - configurator: swarrot.processor.signal_handler
                - configurator: swarrot.processor.max_execution_time
                  extras:
                      max_execution_time: 100
                - configurator: swarrot.processor.max_messages
                - configurator: swarrot.processor.doctrine_connection
                - configurator: swarrot.processor.doctrine_object_manager
                - configurator: swarrot.processor.exception_catcher
                - configurator: swarrot.processor.ack
                - configurator: swarrot.processor.retry
                  extras:
                      retry_attempts: 3
                      retry_exchange: 'retry'
                      retry_routing_key_pattern: 'proposal_analysis_comment_create_retry_%%attempt%%'
        comment_moderation_approved:
            processor: Capco\AppBundle\Processor\Comment\CommentModerationApprovedProcessor
            middleware_stack:
                - configurator: swarrot.processor.signal_handler
                - configurator: swarrot.processor.max_execution_time
                  extras:
                      max_execution_time: 100
                - configurator: swarrot.processor.max_messages
                - configurator: swarrot.processor.doctrine_connection
                - configurator: swarrot.processor.doctrine_object_manager
                - configurator: swarrot.processor.exception_catcher
                - configurator: swarrot.processor.ack
                - configurator: swarrot.processor.retry
                  extras:
                      retry_attempts: 3
                      retry_exchange: 'retry'
                      retry_routing_key_pattern: 'comment_moderation_approved_retry_%%attempt%%'
        comment_moderation_rejected:
            processor: Capco\AppBundle\Processor\Comment\CommentModerationRejectedProcessor
            middleware_stack:
                - configurator: swarrot.processor.signal_handler
                - configurator: swarrot.processor.max_execution_time
                  extras:
                      max_execution_time: 100
                - configurator: swarrot.processor.max_messages
                - configurator: swarrot.processor.doctrine_connection
                - configurator: swarrot.processor.doctrine_object_manager
                - configurator: swarrot.processor.exception_catcher
                - configurator: swarrot.processor.ack
                - configurator: swarrot.processor.retry
                  extras:
                      retry_attempts: 3
                      retry_exchange: 'retry'
                      retry_routing_key_pattern: 'comment_moderation_rejected_retry_%%attempt%%'
        comment_moderation_notif_admin:
            processor: Capco\AppBundle\Processor\Comment\CommentModerationNotifAdminProcessor
            middleware_stack:
                - configurator: swarrot.processor.signal_handler
                - configurator: swarrot.processor.max_execution_time
                  extras:
                      max_execution_time: 100
                - configurator: swarrot.processor.max_messages
                - configurator: swarrot.processor.doctrine_connection
                - configurator: swarrot.processor.doctrine_object_manager
                - configurator: swarrot.processor.exception_catcher
                - configurator: swarrot.processor.ack
                - configurator: swarrot.processor.retry
                  extras:
                      retry_attempts: 3
                      retry_exchange: 'retry'
                      retry_routing_key_pattern: 'comment_moderation_notif_admin_retry_%%attempt%%'
        user_confirmation_email_participation:
            processor: Capco\AppBundle\Processor\User\UserAccountConfirmationParticipationProcessor
            middleware_stack:
                - configurator: swarrot.processor.signal_handler
                - configurator: swarrot.processor.max_execution_time
                  extras:
                      max_execution_time: 100
                - configurator: swarrot.processor.max_messages
                - configurator: swarrot.processor.doctrine_connection
                - configurator: swarrot.processor.doctrine_object_manager
                - configurator: swarrot.processor.exception_catcher
                - configurator: swarrot.processor.ack
                - configurator: swarrot.processor.retry
                  extras:
                      retry_attempts: 3
                      retry_exchange: 'retry'
                      retry_routing_key_pattern: 'user_confirmation_email_participation_retry_%%attempt%%'
        user_archive_request:
            processor: Capco\AppBundle\Processor\UserArchive\UserArchiveRequestProcessor
            middleware_stack:
                - configurator: swarrot.processor.signal_handler
                - configurator: swarrot.processor.max_execution_time
                  extras:
                      max_execution_time: 100
                - configurator: swarrot.processor.max_messages
                - configurator: swarrot.processor.doctrine_connection
                - configurator: swarrot.processor.doctrine_object_manager
                - configurator: swarrot.processor.exception_catcher
                - configurator: swarrot.processor.ack
                - configurator: swarrot.processor.retry
                  extras:
                      retry_attempts: 3
                      retry_exchange: 'retry'
                      retry_routing_key_pattern: 'user_archive_request_retry_%%attempt%%'
        questionnaire_reply:
            processor: Capco\AppBundle\Processor\Questionnaire\QuestionnaireReplyProcessor
            middleware_stack:
                - configurator: swarrot.processor.signal_handler
                - configurator: swarrot.processor.max_execution_time
                  extras:
                      max_execution_time: 100
                - configurator: swarrot.processor.max_messages
                - configurator: swarrot.processor.doctrine_connection
                - configurator: swarrot.processor.doctrine_object_manager
                - configurator: swarrot.processor.exception_catcher
                - configurator: swarrot.processor.ack
                - configurator: swarrot.processor.retry
                  extras:
                      retry_attempts: 3
                      retry_exchange: 'retry'
                      retry_routing_key_pattern: 'questionnaire_reply_retry_%%attempt%%'
        user_password:
            processor: Capco\AppBundle\Processor\User\UserPasswordProcessor
            middleware_stack:
                - configurator: swarrot.processor.signal_handler
                - configurator: swarrot.processor.max_execution_time
                  extras:
                      max_execution_time: 100
                - configurator: swarrot.processor.max_messages
                - configurator: swarrot.processor.doctrine_connection
                - configurator: swarrot.processor.doctrine_object_manager
                - configurator: swarrot.processor.exception_catcher
                - configurator: swarrot.processor.ack
                - configurator: swarrot.processor.retry
                  extras:
                      retry_attempts: 3
                      retry_exchange: 'retry'
                      retry_routing_key_pattern: 'user_password_retry_%%attempt%%'
        user_email:
            processor: Capco\AppBundle\Processor\User\UserEmailProcessor
            middleware_stack:
                - configurator: swarrot.processor.signal_handler
                - configurator: swarrot.processor.max_execution_time
                  extras:
                      max_execution_time: 100
                - configurator: swarrot.processor.max_messages
                - configurator: swarrot.processor.doctrine_connection
                - configurator: swarrot.processor.doctrine_object_manager
                - configurator: swarrot.processor.exception_catcher
                - configurator: swarrot.processor.ack
                - configurator: swarrot.processor.retry
                  extras:
                      retry_attempts: 3
                      retry_exchange: 'retry'
                      retry_routing_key_pattern: 'user_email_retry_%%attempt%%'
        user_email_reminder:
            processor: Capco\AppBundle\Processor\User\UserEmailReminderProcessor
            middleware_stack:
                - configurator: swarrot.processor.signal_handler
                - configurator: swarrot.processor.max_execution_time
                  extras:
                      max_execution_time: 100
                - configurator: swarrot.processor.max_messages
                - configurator: swarrot.processor.doctrine_connection
                - configurator: swarrot.processor.doctrine_object_manager
                - configurator: swarrot.processor.exception_catcher
                - configurator: swarrot.processor.ack
                - configurator: swarrot.processor.retry
                  extras:
                      retry_attempts: 3
                      retry_exchange: 'retry'
                      retry_routing_key_pattern: 'user_email_reminder_retry_%%attempt%%'
        user_step_reminder:
            processor: Capco\AppBundle\Processor\User\UserStepReminderProcessor
            middleware_stack:
                - configurator: swarrot.processor.signal_handler
                - configurator: swarrot.processor.max_execution_time
                  extras:
                      max_execution_time: 100
                - configurator: swarrot.processor.max_messages
                - configurator: swarrot.processor.doctrine_connection
                - configurator: swarrot.processor.doctrine_object_manager
                - configurator: swarrot.processor.exception_catcher
                - configurator: swarrot.processor.ack
                - configurator: swarrot.processor.retry
                  extras:
                      retry_attempts: 3
                      retry_exchange: 'retry'
                      retry_routing_key_pattern: 'user_step_reminder_retry_%%attempt%%'
        event_create:
            processor: Capco\AppBundle\Processor\Event\EventCreateProcessor
            middleware_stack:
                - configurator: swarrot.processor.signal_handler
                - configurator: swarrot.processor.max_execution_time
                  extras:
                      max_execution_time: 100
                - configurator: swarrot.processor.max_messages
                - configurator: swarrot.processor.doctrine_connection
                - configurator: swarrot.processor.doctrine_object_manager
                - configurator: swarrot.processor.exception_catcher
                - configurator: swarrot.processor.ack
                - configurator: swarrot.processor.retry
                  extras:
                      retry_attempts: 3
                      retry_exchange: 'retry'
                      retry_routing_key_pattern: 'event_create_retry_%%attempt%%'
        event_update:
            processor: Capco\AppBundle\Processor\Event\EventUpdateProcessor
            middleware_stack:
                - configurator: swarrot.processor.signal_handler
                - configurator: swarrot.processor.max_execution_time
                  extras:
                      max_execution_time: 100
                - configurator: swarrot.processor.max_messages
                - configurator: swarrot.processor.doctrine_connection
                - configurator: swarrot.processor.doctrine_object_manager
                - configurator: swarrot.processor.exception_catcher
                - configurator: swarrot.processor.ack
                - configurator: swarrot.processor.retry
                  extras:
                      retry_attempts: 3
                      retry_exchange: 'retry'
                      retry_routing_key_pattern: 'event_update_retry_%%attempt%%'
        event_delete:
            processor: Capco\AppBundle\Processor\Event\EventDeleteProcessor
            middleware_stack:
                - configurator: swarrot.processor.signal_handler
                - configurator: swarrot.processor.max_execution_time
                  extras:
                      max_execution_time: 100
                - configurator: swarrot.processor.max_messages
                - configurator: swarrot.processor.doctrine_connection
                - configurator: swarrot.processor.doctrine_object_manager
                - configurator: swarrot.processor.exception_catcher
                - configurator: swarrot.processor.ack
                - configurator: swarrot.processor.retry
                  extras:
                      retry_attempts: 3
                      retry_exchange: 'retry'
                      retry_routing_key_pattern: 'event_delete_retry_%%attempt%%'
        event_review:
            processor: Capco\AppBundle\Processor\Event\EventReviewProcessor
            middleware_stack:
                - configurator: swarrot.processor.signal_handler
                - configurator: swarrot.processor.max_execution_time
                  extras:
                      max_execution_time: 100
                - configurator: swarrot.processor.max_messages
                - configurator: swarrot.processor.doctrine_connection
                - configurator: swarrot.processor.doctrine_object_manager
                - configurator: swarrot.processor.exception_catcher
                - configurator: swarrot.processor.ack
                - configurator: swarrot.processor.retry
                  extras:
                      retry_attempts: 3
                      retry_exchange: 'retry'
                      retry_routing_key_pattern: 'event_review_retry_%%attempt%%'
        user_invite_invitation:
            processor: Capco\AppBundle\Processor\UserInvite\UserInviteNewInvitationProcessor
            middleware_stack:
                - configurator: swarrot.processor.signal_handler
                - configurator: swarrot.processor.max_execution_time
                  extras:
                      max_execution_time: 100
                - configurator: swarrot.processor.max_messages
                - configurator: swarrot.processor.doctrine_connection
                - configurator: swarrot.processor.doctrine_object_manager
                - configurator: swarrot.processor.exception_catcher
                - configurator: swarrot.processor.ack
                - configurator: swarrot.processor.retry
                  extras:
                      retry_attempts: 3
                      retry_exchange: 'retry'
                      retry_routing_key_pattern: 'user_invite_invitation_retry_%%attempt%%'
        user_invite_invitation_by_organization:
            processor: Capco\AppBundle\Processor\UserInvite\UserInviteNewInvitationProcessor
            middleware_stack:
                - configurator: swarrot.processor.signal_handler
                - configurator: swarrot.processor.max_execution_time
                  extras:
                      max_execution_time: 100
                - configurator: swarrot.processor.max_messages
                - configurator: swarrot.processor.doctrine_connection
                - configurator: swarrot.processor.doctrine_object_manager
                - configurator: swarrot.processor.exception_catcher
                - configurator: swarrot.processor.ack
                - configurator: swarrot.processor.retry
                  extras:
                      retry_attempts: 3
                      retry_exchange: 'retry'
                      retry_routing_key_pattern: 'user_invite_invitation_by_organization_retry_%%attempt%%'
        user_invite_check:
            processor: Capco\AppBundle\Processor\UserInvite\UserInviteEmailMessageStatusCheckProcessor
            middleware_stack:
                - configurator: swarrot.processor.signal_handler
                - configurator: swarrot.processor.max_execution_time
                  extras:
                      max_execution_time: 100
                - configurator: swarrot.processor.max_messages
                - configurator: swarrot.processor.doctrine_connection
                - configurator: swarrot.processor.doctrine_object_manager
                - configurator: swarrot.processor.exception_catcher
                - configurator: swarrot.processor.ack
                - configurator: swarrot.processor.retry
                  extras:
                      retry_attempts: 3
                      retry_exchange: 'retry'
                      retry_routing_key_pattern: 'user_invite_check_retry_%%attempt%%'
        debate_article_crawler:
            processor: Capco\AppBundle\Processor\Debate\DebateArticleCrawlerProcessor
            middleware_stack:
                - configurator: swarrot.processor.signal_handler
                - configurator: swarrot.processor.max_execution_time
                  extras:
                      max_execution_time: 100
                - configurator: swarrot.processor.max_messages
                - configurator: swarrot.processor.doctrine_connection
                - configurator: swarrot.processor.doctrine_object_manager
                - configurator: swarrot.processor.exception_catcher
                - configurator: swarrot.processor.ack
                - configurator: swarrot.processor.retry
                  extras:
                      retry_attempts: 3
                      retry_exchange: 'retry'
                      retry_routing_key_pattern: 'event_review_retry_%%attempt%%'
        report:
            processor: Capco\AppBundle\Processor\ReportProcessor
            middleware_stack:
                - configurator: swarrot.processor.signal_handler
                - configurator: swarrot.processor.max_execution_time
                  extras:
                      max_execution_time: 100
                - configurator: swarrot.processor.max_messages
                - configurator: swarrot.processor.doctrine_connection
                - configurator: swarrot.processor.doctrine_object_manager
                - configurator: swarrot.processor.exception_catcher
                - configurator: swarrot.processor.ack
                - configurator: swarrot.processor.retry
                  extras:
                      retry_attempts: 3
                      retry_exchange: 'retry'
                      retry_routing_key_pattern: 'event_review_retry_%%attempt%%'
        proposal_news_create:
            processor: Capco\AppBundle\Processor\Proposal\ProposalNewsCreateProcessor
            middleware_stack:
                - configurator: swarrot.processor.signal_handler
                - configurator: swarrot.processor.max_execution_time
                  extras:
                      max_execution_time: 100
                - configurator: swarrot.processor.max_messages
                - configurator: swarrot.processor.doctrine_connection
                - configurator: swarrot.processor.doctrine_object_manager
                - configurator: swarrot.processor.exception_catcher
                - configurator: swarrot.processor.ack
                - configurator: swarrot.processor.retry
                  extras:
                      retry_attempts: 3
                      retry_exchange: 'retry'
                      retry_routing_key_pattern: 'proposal_news_create_retry_%%attempt%%'
        proposal_news_update:
            processor: Capco\AppBundle\Processor\Proposal\ProposalNewsUpdateProcessor
            middleware_stack:
                - configurator: swarrot.processor.signal_handler
                - configurator: swarrot.processor.max_execution_time
                  extras:
                      max_execution_time: 100
                - configurator: swarrot.processor.max_messages
                - configurator: swarrot.processor.doctrine_connection
                - configurator: swarrot.processor.doctrine_object_manager
                - configurator: swarrot.processor.exception_catcher
                - configurator: swarrot.processor.ack
                - configurator: swarrot.processor.retry
                  extras:
                      retry_attempts: 3
                      retry_exchange: 'retry'
                      retry_routing_key_pattern: 'proposal_news_update_retry_%%attempt%%'
        proposal_news_delete:
            processor: Capco\AppBundle\Processor\Proposal\ProposalNewsDeleteProcessor
            middleware_stack:
                - configurator: swarrot.processor.signal_handler
                - configurator: swarrot.processor.max_execution_time
                  extras:
                      max_execution_time: 100
                - configurator: swarrot.processor.max_messages
                - configurator: swarrot.processor.doctrine_connection
                - configurator: swarrot.processor.doctrine_object_manager
                - configurator: swarrot.processor.exception_catcher
                - configurator: swarrot.processor.ack
                - configurator: swarrot.processor.retry
                  extras:
                      retry_attempts: 3
                      retry_exchange: 'retry'
                      retry_routing_key_pattern: 'proposal_news_delete_retry_%%attempt%%'
        emailing_campaign:
            processor: Capco\AppBundle\Processor\EmailingCampaignProcessor
            middleware_stack:
                - configurator: swarrot.processor.signal_handler
                - configurator: swarrot.processor.max_execution_time
                  extras:
                      max_execution_time: 300
                - configurator: swarrot.processor.max_messages
                - configurator: swarrot.processor.doctrine_connection
                - configurator: swarrot.processor.doctrine_object_manager
                - configurator: swarrot.processor.exception_catcher
                - configurator: swarrot.processor.ack
                - configurator: swarrot.processor.retry
                  extras:
                      retry_attempts: 10
                      retry_exchange: 'retry'
                      retry_routing_key_pattern: 'emailing_campaign_%%attempt%%'
        sendinblue:
            processor: Capco\AppBundle\Processor\SendInBlueProcessor
            middleware_stack:
                - configurator: swarrot.processor.signal_handler
                - configurator: swarrot.processor.max_execution_time
                  extras:
                      max_execution_time: 100
                - configurator: swarrot.processor.max_messages
                - configurator: swarrot.processor.doctrine_connection
                - configurator: swarrot.processor.doctrine_object_manager
                - configurator: swarrot.processor.exception_catcher
                - configurator: swarrot.processor.ack
                - configurator: swarrot.processor.retry
                  extras:
                      retry_attempts: 3
                      retry_exchange: 'retry'
                      retry_routing_key_pattern: 'emailing_campaign_%%attempt%%'

        project_district_notification:
            processor: Capco\AppBundle\Processor\District\GlobalDistrictNotificationProcessor
            middleware_stack:
                - configurator: swarrot.processor.signal_handler
                - configurator: swarrot.processor.max_execution_time
                  extras:
                      max_execution_time: 100
                - configurator: swarrot.processor.max_messages
                - configurator: swarrot.processor.doctrine_connection
                - configurator: swarrot.processor.doctrine_object_manager
                - configurator: swarrot.processor.exception_catcher
                - configurator: swarrot.processor.ack
                - configurator: swarrot.processor.retry
                  extras:
                      retry_attempts: 3
                      retry_exchange: 'retry'
                      retry_routing_key_pattern: 'project_district_%%attempt%%'
        organization_member_invitation:
            processor: Capco\AppBundle\Processor\Organization\OrganizationMemberProcessor
            middleware_stack:
                - configurator: swarrot.processor.signal_handler
                - configurator: swarrot.processor.max_execution_time
                  extras:
                      max_execution_time: 100
                - configurator: swarrot.processor.max_messages
                - configurator: swarrot.processor.doctrine_connection
                - configurator: swarrot.processor.doctrine_object_manager
                - configurator: swarrot.processor.exception_catcher
                - configurator: swarrot.processor.ack
                - configurator: swarrot.processor.retry
                  extras:
                      retry_attempts: 3
                      retry_exchange: 'retry'
                      retry_routing_key_pattern: 'organization_member_%%attempt%%'

        sms_credit_initial_credit:
            processor: Capco\AppBundle\Processor\Sms\SmsCreditInitialCreditProcessor
            middleware_stack:
                - configurator: swarrot.processor.signal_handler
                - configurator: swarrot.processor.max_execution_time
                  extras:
                      max_execution_time: 100
                - configurator: swarrot.processor.max_messages
                - configurator: swarrot.processor.doctrine_connection
                - configurator: swarrot.processor.doctrine_object_manager
                - configurator: swarrot.processor.exception_catcher
                - configurator: swarrot.processor.ack
                - configurator: swarrot.processor.retry
                  extras:
                      retry_attempts: 3
                      retry_exchange: 'retry'
                      retry_routing_key_pattern: 'sms_credit_initial_credit_%%attempt%%'

        sms_credit_refill_credit:
            processor: Capco\AppBundle\Processor\Sms\SmsCreditRefillCreditProcessor
            middleware_stack:
                - configurator: swarrot.processor.signal_handler
                - configurator: swarrot.processor.max_execution_time
                  extras:
                      max_execution_time: 100
                - configurator: swarrot.processor.max_messages
                - configurator: swarrot.processor.doctrine_connection
                - configurator: swarrot.processor.doctrine_object_manager
                - configurator: swarrot.processor.exception_catcher
                - configurator: swarrot.processor.ack
                - configurator: swarrot.processor.retry
                  extras:
                      retry_attempts: 3
                      retry_exchange: 'retry'
                      retry_routing_key_pattern: 'sms_credit_refill_credit_%%attempt%%'

        sms_credit_initial_order:
            processor: Capco\AppBundle\Processor\Sms\SmsCreditInitialOrderProcessor
            middleware_stack:
                - configurator: swarrot.processor.signal_handler
                - configurator: swarrot.processor.max_execution_time
                  extras:
                      max_execution_time: 100
                - configurator: swarrot.processor.max_messages
                - configurator: swarrot.processor.doctrine_connection
                - configurator: swarrot.processor.doctrine_object_manager
                - configurator: swarrot.processor.exception_catcher
                - configurator: swarrot.processor.ack
                - configurator: swarrot.processor.retry
                  extras:
                      retry_attempts: 3
                      retry_exchange: 'retry'
                      retry_routing_key_pattern: 'sms_credit_initial_order_%%attempt%%'

        sms_credit_refill_order:
            processor: Capco\AppBundle\Processor\Sms\SmsCreditRefillOrderProcessor
            middleware_stack:
                - configurator: swarrot.processor.signal_handler
                - configurator: swarrot.processor.max_execution_time
                  extras:
                      max_execution_time: 100
                - configurator: swarrot.processor.max_messages
                - configurator: swarrot.processor.doctrine_connection
                - configurator: swarrot.processor.doctrine_object_manager
                - configurator: swarrot.processor.exception_catcher
                - configurator: swarrot.processor.ack
                - configurator: swarrot.processor.retry
                  extras:
                      retry_attempts: 3
                      retry_exchange: 'retry'
                      retry_routing_key_pattern: 'sms_credit_refill_order_%%attempt%%'

        sms_credit_alert_consumed_credit:
            processor: Capco\AppBundle\Processor\Sms\SmsCreditAlertConsumedCreditProcessor
            middleware_stack:
                - configurator: swarrot.processor.signal_handler
                - configurator: swarrot.processor.max_execution_time
                  extras:
                      max_execution_time: 100
                - configurator: swarrot.processor.max_messages
                - configurator: swarrot.processor.doctrine_connection
                - configurator: swarrot.processor.doctrine_object_manager
                - configurator: swarrot.processor.exception_catcher
                - configurator: swarrot.processor.ack
                - configurator: swarrot.processor.retry
                  extras:
                      retry_attempts: 3
                      retry_exchange: 'retry'
                      retry_routing_key_pattern: 'sms_credit_alert_consumed_credit_%%attempt%%'
        mediator_participate_email:
            processor: Capco\AppBundle\Processor\Mediator\MediatorProcessor
            middleware_stack:
                - configurator: swarrot.processor.signal_handler
                - configurator: swarrot.processor.max_execution_time
                  extras:
                      max_execution_time: 100
                - configurator: swarrot.processor.max_messages
                - configurator: swarrot.processor.doctrine_connection
                - configurator: swarrot.processor.doctrine_object_manager
                - configurator: swarrot.processor.exception_catcher
                - configurator: swarrot.processor.ack
                - configurator: swarrot.processor.retry
                  extras:
                      retry_attempts: 3
                      retry_exchange: 'retry'
                      retry_routing_key_pattern: 'participate_email_%%attempt%%'
        proposal_collect_email_published:
            processor: Capco\AppBundle\Processor\Proposal\ProposalCollectEmailPublishedProcessor
            middleware_stack:
                - configurator: swarrot.processor.signal_handler
                - configurator: swarrot.processor.max_execution_time
                  extras:
                      max_execution_time: 100
                - configurator: swarrot.processor.max_messages
                - configurator: swarrot.processor.doctrine_connection
                - configurator: swarrot.processor.doctrine_object_manager
                - configurator: swarrot.processor.exception_catcher
                - configurator: swarrot.processor.ack
                - configurator: swarrot.processor.retry
                  extras:
                      retry_attempts: 3
                      retry_exchange: 'retry'
                      retry_routing_key_pattern: 'proposal_collect_email_published_%%attempt%%'
