{% extends '@HWIOAuth/layout.html.twig' %}

{% block hwi_oauth_content %}

    <div class="container">
        <div class="row">

            {# //debug variable #}
            {#{{ dump(userInformation) }}#}
            {#{{ dump(key) }}#}

            <h2>{{ 'header.register' | trans({'%name%': userInformation.realName}, 'HWIOAuthBundle') }}</h2>
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. A ab, architecto autem dolor ducimus et harum hic incidunt ipsa ipsam laboriosam maxime modi nostrum omnis pariatur quae quod ratione veritatis.</p>

            <div class="col-lg-4 col-lg-offset-4 col-md-6  col-md-offset-3  col-sm-8  col-sm-offset-2  col-xs-12  login">
                <div class="login__form">
                    {{ form_start(form, { 'action': path('hwi_oauth_connect_registration', {'key': key}), 'attr': { 'class': 'hwi_oauth_registration_register' } }) }}
                        <div class="form-group">
                            <p class="text-danger">{{ form_errors(form.username) }}</p>
                            <label for="username" class="control-label">{{ 'security.login.username'|trans({}, 'CapcoAppBundle') }}</label>
                            {{ form_widget(form.username, {'attr': {'placeholder': 'Votre pseudo', 'class': 'form-control'} }) }}
                            <p class="excerpt">Votre nom d'utilisateur est rendu public sur la plateforme.</p>
                        </div>

                        <div class="form-group">
                            <p class="text-danger">{{ form_errors(form.email) }}</p>
                            <label for="email" class="control-label">{{ 'form.email'|trans({}, 'CapcoAppBundle') }}</label>
                            {{ form_widget(form.email, {'attr': {'placeholder': 'pseudo@exemple.fr', 'class': 'form-control'} }) }}
                        </div>

                        <div class="form-group">
                            <p class="text-danger">{{ form_errors(form.plainPassword.first) }}</p>
                            <label for="password" class="control-label">{{ 'security.login.password'|trans({}, 'CapcoAppBundle') }}</label>
                            {{ form_widget(form.plainPassword.first, {'attr': {'class': 'form-control'} }) }}
                        </div>

                        <div class="form-group">
                            <p class="text-danger">{{ form_errors(form.plainPassword.second) }}</p>
                            <label for="password" class="control-label">{{ 'form.password_confirmation'|trans({}, 'CapcoAppBundle') }}</label>
                            {{ form_widget(form.plainPassword.second, {'attr': {'class': 'form-control'} }) }}
                        </div>

                        {{ form_rest(form) }}

                        <p class="excerpt">Toutes les contributions soumises sur la plateforme sont rendues publiques.</p>
                        <button type="submit" class="btn btn-primary">{{ 'connect.registration.submit'|trans({}, 'HWIOAuthBundle') }}</button>
                        <a href="{{ path('hwi_oauth_connect') }}" class="btn btn-default">{{ 'connect.registration.cancel' | trans({}, 'HWIOAuthBundle') }}</a>
                    {{ form_end(form) }}
                </div>
            </div>
        </div>
    </div>

{% endblock hwi_oauth_content %}
