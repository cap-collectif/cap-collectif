services:
  capco.check_email_domain.validator:
    class: Capco\AppBundle\Validator\Constraints\CheckEmailDomainValidator
    arguments: ['@capco.toggle.manager', '@capco.registration_form.repository']
    tags:
      - { name: validator.constraint_validator, alias: capco.check_email_domain.validator }

  capco.has_required_responses.validator:
    class: Capco\AppBundle\Validator\Constraints\HasResponsesToRequiredQuestionsValidator
    arguments: ['@capco.registration_form.repository']
    tags:
      - { name: validator.constraint_validator, alias: has_required_responses.validator }

  capco.already_vote.validator:
    class: Capco\AppBundle\Validator\Constraints\DidNotAlreadyVoteValidator
    arguments: ['@doctrine.orm.entity_manager']
    tags:
      - { name: validator.constraint_validator, alias: already_vote.validator }

  capco.email_belongs_not.validator:
    class: Capco\AppBundle\Validator\Constraints\EmailDoesNotBelongToUserValidator
    arguments: ['@fos_user.user_manager']
    tags:
      - { name: validator.constraint_validator, alias: email_belongs_not.validator }

  capco.end_after_start.validator:
    class: Capco\AppBundle\Validator\Constraints\EndAfterStartValidator
    tags:
      - { name: validator.constraint_validator, alias: end_after_start.validator }

  capco.has_theme_if_activated.validator:
    class: Capco\AppBundle\Validator\Constraints\HasThemeIfActivatedValidator
    arguments: ['@capco.toggle.manager']
    tags:
      - { name: validator.constraint_validator, alias: has_theme_if_activated.validator }

  capco.is_social_network_url.validator:
    class: Capco\AppBundle\Validator\Constraints\IsSocialNetworkUrlValidator
    tags:
      - { name: validator.constraint_validator, alias: is_social_network_url.validator }

  capco.unlisted_email.validator:
    class: Capco\AppBundle\Validator\Constraints\HasUnlistedEmailValidator
    arguments: ['@doctrine.orm.entity_manager']
    tags:
      - { name: validator.constraint_validator, alias: unlisted_email.validator }

  capco.has_enough_credits.validator:
    class: Capco\AppBundle\Validator\Constraints\HasEnoughCreditsToVoteValidator
    arguments: ['@capco.proposal_votes.resolver']
    tags:
      - { name: validator.constraint_validator, alias: has_enough_credits.validator }

  capco.recaptcha.validator:
    class: Capco\AppBundle\Validator\Constraints\ReCaptchaValidator
    arguments: ["@request_stack", '%recaptcha_private_key%', '@capco.toggle.manager']
    tags:
        - { name: validator.constraint_validator, alias: recaptcha.validator }

  capco.has_theme_if_mandatory.validator:
    class: Capco\AppBundle\Validator\Constraints\HasThemeIfMandatoryValidator
    arguments: ['@capco.toggle.manager']
    tags:
      - { name: validator.constraint_validator, alias: has_theme_if_mandatory.validator }

  capco.has_category_if_mandatory.validator:
    class: Capco\AppBundle\Validator\Constraints\HasCategoryIfMandatoryValidator
    tags:
      - { name: validator.constraint_validator, alias: has_category_if_mandatory.validator }

  capco.has_only_one_selection_step_allowing_progress_step.validator:
    class: Capco\AppBundle\Validator\Constraints\HasOnlyOneSelectionStepAllowingProgressStepsValidator
    tags:
      - { name: validator.constraint_validator, alias: has_only_one_selection_step_allowing_progress_step.validator }

  capco.has_district_if_mandatory.validator:
    class: Capco\AppBundle\Validator\Constraints\HasDistrictIfMandatoryValidator
    arguments: ['@capco.toggle.manager']
    tags:
      - { name: validator.constraint_validator, alias: has_district_if_mandatory.validator }

  capco.has_address_if_mandatory.validator:
    class: Capco\AppBundle\Validator\Constraints\HasAddressIfMandatoryValidator
    tags:
      - { name: validator.constraint_validator, alias: has_address_if_mandatory.validator }

  capco.not_throwable_email.validator:
    class: Capco\AppBundle\Validator\Constraints\NotThrowableEmailValidator
    arguments: ["@capco.utils.throwable_email_checker"]
    tags:
      - { name: validator.constraint_validator, alias: capco.not_throwable_email.validator }
